{% extends 'layouts/staff_base.html' %}
{% load static %}
{% block title %}Houses in {{ location.name}}{% endblock %}

{% block content %}
    <form action="{% url 'staff:location-houses' location.id %}" class="form-group bg-dark p-3 rounded shadow search-form" method="get"></form>
        <div class="container">
        <h1> Houses in {{ location.name }}</h1>
            <table class="table table-dark table-hover mt-3">
                <thead>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>House Type</th>
                    <th>Status</th>
                    <th class="text-end">Action</th>
                </thead>
                <tbody>
                  {% for house in location.house_set.all %}
                  <tr>
                    <td>{{ house.id }}</td>
                    <td>{{ house.name}}</td>
                    <td>{{ house.price }}</td>
                    <td>{{ house.house_type.get_choices_display }}  {{house.house_type.name}}</td>
                    <td>{{ house.get_status_display}}</td>
                    <td class="text-end"><a href="{% url 'staff:house-location' house.Location.id house.id %}" class="btn-custom-secondary text-light" style="text-decoration: none;">View</a></td>

                  </tr>
                  {% endfor %}
                </tbody>
            </table>
        </div>

    </form>
{% endblock %}
